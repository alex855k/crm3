@model CRM.Application.Core.ViewModels.CustomerContactsViewModel
@{
    Layout = null;
}
<table id="datatable_fixed_column" class="table table-striped table-bordered dataTable no-footer" width="100%" role="grid" aria-describedby="datatable_fixed_column_info" style="width: 100%;">
    <thead>
        <tr role="row">
            <th tabindex="0" aria-controls="datatable_fixed_column" rowspan="1" colspan="1" style="width: 187px;">
                @CRM.Application.Core.Resources.Customers.Customer.Title
            </th>
            <th class="sorting" tabindex="0" aria-controls="datatable_fixed_column" rowspan="1" colspan="1" style="width: 200px;">
                @CRM.Application.Core.Resources.Customers.Customer.Name
            </th>
            <th class="sorting" tabindex="0" aria-controls="datatable_fixed_column" rowspan="1" colspan="1" style="width: 200px;">
                @CRM.Application.Core.Resources.Customers.Customer.Email
            </th>
            <th data-hide="phone" tabindex="0" aria-controls="datatable_fixed_column" rowspan="1" colspan="1" style="width: 174px;">
                @CRM.Application.Core.Resources.Customers.Customer.Phone
            </th>
            <th data-hide="phone" tabindex="0" aria-controls="datatable_fixed_column" rowspan="1" colspan="1" style="width: 187px;">
                @CRM.Application.Core.Resources.Customers.Customer.Mobile
            </th>
            <th data-hide="phone,tablet" tabindex="0" aria-controls="datatable_fixed_column" rowspan="1" colspan="1" aria-label="Start date: activate to sort column ascending" style="width: 178px;">
                Actions
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var contact in Model.CustomerContactsList)
        {
            <tr role="row" class="odd">
                <td>@contact.Title</td>
                <td>@contact.Name</td>
                <td>@contact.Email</td>
                <td>@contact.Phone</td>
                <td>@contact.Mobile</td>
                <td>
                    <a class="editCustomerContact" data-id="@contact.Id" href="#" title="Update"><i class="fa fa-pencil-square-o"></i></a> |
                    <a style="display:none" class="hiddenDeleteCustomerContact" data-id="@contact.Id" href="#" title="Delete"><i class="fa fa-trash-o"></i></a>
                    <a data-title="Delete Customer Contact!"
                       data-content="Are you sure you want to delete customer contact?"
                       data-yes="Yes"
                       data-no="No"
                       class="deleteCustomerContact" href="#" title="Delete"><i class="fa fa-trash-o"></i></a>
                </td>
            </tr>
        }
    </tbody>
</table>
<script>
    $(".deleteCustomerContact").click(function(e) {
        debugger;
        $.SmartMessageBox({
            title: $(this).data("title"),
            content: $(this).data("content"),
            buttons: '[' + $(this).data("no") + '][' + $(this).data("yes") + ']'
        }, function (ButtonPressed) {
            if (ButtonPressed == "Yes")
                $(".hiddenDeleteCustomerContact").trigger("click");
        });
        e.preventDefault();
    });
</script>