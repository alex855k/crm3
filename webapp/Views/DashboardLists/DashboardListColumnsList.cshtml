@model CRM.Application.Core.ViewModels.DashboardListColumnsViewModel
@{
    Layout = null;
}
<table id="datatable_fixed_column" class="table table-striped table-bordered dataTable no-footer" width="100%" role="grid" aria-describedby="datatable_fixed_column_info" style="width: 100%;">
    <thead>
        <tr role="row">
            <th tabindex="0" aria-controls="datatable_fixed_column" rowspan="1" colspan="1" style="width: 187px;">
                @CRM.Application.Core.Resources.Administration.DashboardLists.ColumnName
            </th>
            <th class="sorting" tabindex="0" aria-controls="datatable_fixed_column" rowspan="1" colspan="1" style="width: 200px;">
                @CRM.Application.Core.Resources.Administration.DashboardLists.ColumnDesc
            </th>
            <th data-hide="phone,tablet" tabindex="0" aria-controls="datatable_fixed_column" rowspan="1" colspan="1" aria-label="Start date: activate to sort column ascending" style="width: 178px;">
                Actions
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var listColumn in Model.DashboardListColumnsList)
        {
        <tr role="row" class="odd">
            <td>@listColumn.Name</td>
            <td>@listColumn.Description</td>
            <td>
                <a class="editListColumn" data-id="@listColumn.Id" href="#" title="Update"><i class="fa fa-pencil-square-o"></i></a> |
                <a style="display:none" class="hiddenDeleteListColumn" data-id="@listColumn.Id" href="#" title="Delete"><i class="fa fa-trash-o"></i></a>
                <a data-title="Delete Column !"
                   data-content="Are you sure you want to delete customer contact?"
                   data-yes="Yes"
                   data-no="No"
                   class="deleteDeleteListColumn" href="#" title="Delete"><i class="fa fa-trash-o"></i></a>
            </td>
        </tr>
        }
    </tbody>
</table>
<script>
    $(".deleteDeleteListColumn").click(function(e) {
        debugger;
        $.SmartMessageBox({
            title: $(this).data("title"),
            content: $(this).data("content"),
            buttons: '[' + $(this).data("no") + '][' + $(this).data("yes") + ']'
        }, function (ButtonPressed) {
            if (ButtonPressed == "Yes")
                $(".hiddenDeleteListColumn").trigger("click");
        });
        e.preventDefault();
    });
</script>
