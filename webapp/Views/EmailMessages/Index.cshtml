@model CRM.Application.Core.ViewModels.EmailMessageViewModel
@{
    Layout = null;
}
<!-- MAIN CONTENT -->

<div class="widget-body no-padding">
    <div id="datatable_fixed_column_wrapper" class="dataTables_wrapper form-inline no-footer">
        <div class="dt-toolbar">
            <div class="col-xs-12 col-sm-6 hidden-xs">
                <div id="datatable_fixed_column_filter" class="dataTables_filter">
                    <label>
                        <span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span>
                        <input id="commonFilter" type="search" class="form-control" placeholder="" aria-controls="datatable_fixed_column">
                    </label>
                </div>
            </div><div class="col-sm-6 col-xs-12 hidden-xs">

                <div class="toolbar">

                    <div class="text-right">
                        <button id="fetchAllMessages" class="btn btn-primary" href="@Url.Action("FetchAllMessages", "EmailMessages")">Sync</button>
                    </div>
                </div>
            </div>
        </div>
        <table id="datatable_fixed_column" class="table table-striped table-bordered dataTable no-footer" width="100%" role="grid" aria-describedby="datatable_fixed_column_info" style="width: 100%;">
            <thead>
                <tr id="filterTr" role="row">
                    <th class="hasinput" style="width:16%" rowspan="1" colspan="1">
                        <div class="input-group">
                            <input id="dateSent" data-searchKey="dateSent" data-selectedOperator="GreaterThan" class="form-control query" placeholder="Filter Address" type="text">
                            <div style="padding:5px" class="input-group-addon">
                                <div class="btn-group">
                                    <button class="btn btn-primary btn-xs dropdown-toggle" data-toggle="dropdown">
                                        <span class="fa fa-filter"></span>
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li>
                                            <a class="operatorDropdown" data-operator="Equals" data-forInput="dateSent" href="javascript:void(0);">On</a>
                                        </li>
                                        <li>
                                            <a class="operatorDropdown" data-operator="GreaterThan" data-forInput="dateSent" href="javascript:void(0);">After</a>
                                        </li>
                                        <li>
                                            <a class="operatorDropdown" data-operator="GreaterThanOrEqual" data-forInput="dateSent" href="javascript:void(0);">On or after</a>
                                        </li>
                                        <li>
                                            <a class="operatorDropdown" data-operator="LessThan" data-forInput="dateSent" href="javascript:void(0);">Before</a>
                                        </li>
                                        <li>
                                            <a class="operatorDropdown" data-operator="LessThanOrEqual" data-forInput="dateSent" href="javascript:void(0);">On or Before</a>
                                        </li>
                                        <li>
                                            <a class="operatorDropdown" data-operator="NotEqual" data-forInput="dateSent" href="javascript:void(0);">Not on</a>
                                        </li>
                                    </ul>
                                </div>

                            </div>
                        </div>
                    </th>
                    <th class="hasinput" style="width:17%" rowspan="1" colspan="1">
                        <div class="input-group">
                            <input id="subject" data-searchKey="subject" data-selectedOperator="Contains" class="form-control query" placeholder="Filter Subject" type="text">
                            <div style="padding:5px" class="input-group-addon">
                                <div class="btn-group">
                                    <button class="btn btn-primary btn-xs dropdown-toggle" data-toggle="dropdown">
                                        <span class="fa fa-filter"></span>
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li class="active">
                                            <a class="operatorDropdown" data-operator="Contains" data-forInput="subject" href="javascript:void(0);">Contains</a>
                                        </li>
                                        <li>
                                            <a class="operatorDropdown" data-operator="StartsWith" data-forInput="subject" href="javascript:void(0);">StartsWith</a>
                                        </li>
                                        <li>
                                            <a class="operatorDropdown" data-operator="EndsWith" data-forInput="subject" href="javascript:void(0);">EndsWith</a>
                                        </li>
                                        <li>
                                            <a class="operatorDropdown" data-operator="Equals" data-forInput="subject" href="javascript:void(0);">Equals</a>
                                        </li>
                                        <li>
                                            <a class="operatorDropdown" data-operator="NotEqual" data-forInput="subject" href="javascript:void(0);">NotEqual</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </th>
                    <th class="hasinput" style="width:17%" rowspan="1" colspan="1">
                        <div class="input-group">
                            <input id="sender" data-searchKey="sender" data-selectedOperator="Contains" class="form-control query defaultSort" placeholder="Filter Company Name" type="text">
                            <div style="padding:5px" class="input-group-addon">
                                <div class="btn-group">
                                    <button class="btn btn-primary btn-xs dropdown-toggle" data-toggle="dropdown">
                                        <span class="fa fa-filter"></span>
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li class="active">
                                            <a class="operatorDropdown" data-operator="Contains" data-forInput="sender" href="javascript:void(0);">Contains</a>
                                        </li>
                                        <li>
                                            <a class="operatorDropdown" data-operator="StartsWith" data-forInput="sender" href="javascript:void(0);">StartsWith</a>
                                        </li>
                                        <li>
                                            <a class="operatorDropdown" data-operator="EndsWith" data-forInput="sender" href="javascript:void(0);">EndsWith</a>
                                        </li>
                                    </ul>
                                </div>

                            </div>
                        </div>
                    </th>
                    <th class="hasinput" style="width:18%" rowspan="1" colspan="1">
                    </th>
                    <th class="hasinput" style="width:17%" rowspan="1" colspan="1">
                        <div class="input-group">
                            <input id="recipient" data-searchKey="recipient" data-selectedOperator="Contains" class="form-control query" placeholder="Filter Postal Code" type="text">
                            <div style="padding:5px" class="input-group-addon">
                                <div class="btn-group">
                                    <button class="btn btn-primary btn-xs dropdown-toggle" data-toggle="dropdown">
                                        <span class="fa fa-filter"></span>
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li class="active">
                                            <a class="operatorDropdown" data-operator="Contains" data-forInput="recipient" href="javascript:void(0);">Contains</a>
                                        </li>
                                        <li>
                                            <a class="operatorDropdown" data-operator="StartsWith" data-forInput="recipient" href="javascript:void(0);">StartsWith</a>
                                        </li>
                                        <li>
                                            <a class="operatorDropdown" data-operator="EndsWith" data-forInput="recipient" href="javascript:void(0);">EndsWith</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </th>
                    @*<th class="hasinput" style="width:17%" rowspan="1" colspan="1">
                            <div class="input-group">
                                <input id="uid" data-searchKey="uid" data-selectedOperator="Equals" class="form-control query" placeholder="Filter Town" type="text">
                                <div style="padding:5px" class="input-group-addon">
                                    <div class="btn-group">
                                        <button class="btn btn-primary btn-xs dropdown-toggle" data-toggle="dropdown">
                                            <span class="fa fa-filter"></span>
                                        </button>
                                        <ul class="dropdown-menu">
                                            <li>
                                                <a class="operatorDropdown" data-operator="Equals" data-forInput="town" href="javascript:void(0);">Equals</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </th>*@
                    <th class="hasinput" style="width:17%" rowspan="1" colspan="1">
                            <div class="input-group">
                                <input id="concerningCustomer" data-searchKey="concerningCustomer" data-selectedOperator="Contains" class="form-control query" placeholder="Filter Phone" type="text">
                                <div style="padding:5px" class="input-group-addon">
                                    <div class="btn-group">
                                        <button class="btn btn-primary btn-xs dropdown-toggle" data-toggle="dropdown">
                                            <span class="fa fa-filter"></span>
                                        </button>
                                        <ul class="dropdown-menu">
                                            <li class="active">
                                                <a class="operatorDropdown" data-operator="Contains" data-forInput="phone" href="javascript:void(0);">Contains</a>
                                            </li>
                                            <li>
                                                <a class="operatorDropdown" data-operator="StartsWith" data-forInput="phone" href="javascript:void(0);">StartsWith</a>
                                            </li>
                                            <li>
                                                <a class="operatorDropdown" data-operator="EndsWith" data-forInput="phone" href="javascript:void(0);">EndsWith</a>
                                            </li>
                                            <li>
                                                <a class="operatorDropdown" data-operator="Equals" data-forInput="phone" href="javascript:void(0);">Equals</a>
                                            </li>
                                            <li>
                                                <a class="operatorDropdown" data-operator="NotEqual" data-forInput="phone" href="javascript:void(0);">NotEqual</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </th>
                    <th class="hasinput" style="width:17%" rowspan="1" colspan="1">
                        <div class="input-group">
                            <input id="EmailAccountHostName" data-searchKey="EmailAccountHostName" data-selectedOperator="Contains" class="form-control query" placeholder="Filter Phone" type="text">
                            <div style="padding:5px" class="input-group-addon">
                                <div class="btn-group">
                                    <button class="btn btn-primary btn-xs dropdown-toggle" data-toggle="dropdown">
                                        <span class="fa fa-filter"></span>
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li class="active">
                                            <a class="operatorDropdown" data-operator="Contains" data-forInput="phone" href="javascript:void(0);">Contains</a>
                                        </li>
                                        <li>
                                            <a class="operatorDropdown" data-operator="StartsWith" data-forInput="phone" href="javascript:void(0);">StartsWith</a>
                                        </li>
                                        <li>
                                            <a class="operatorDropdown" data-operator="EndsWith" data-forInput="phone" href="javascript:void(0);">EndsWith</a>
                                        </li>
                                        <li>
                                            <a class="operatorDropdown" data-operator="Equals" data-forInput="phone" href="javascript:void(0);">Equals</a>
                                        </li>
                                        <li>
                                            <a class="operatorDropdown" data-operator="NotEqual" data-forInput="phone" href="javascript:void(0);">NotEqual</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </th>
                    <th class="hasinput" style="width:17%" rowspan="1" colspan="1">
                    </th>
                </tr>
                <tr role="row">
                    <th class="sortTable sorti  ng_asc" data-activesort="dateSent" data-sort="" tabindex="0" aria-controls="datatable_fixed_column" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Name: activate to sort column descending" style="width: 187px;">
                        @CRM.Application.Core.Resources.Email.Email.DateSent
                    </th>
                    <th class="sortTable sorting" data-sortKey="subject" tabindex="0" aria-controls="datatable_fixed_column" rowspan="1" colspan="1" aria-label="Age: activate to sort column ascending" style="width: 187px;">
                        @CRM.Application.Core.Resources.Email.Email.Subject
                    </th>
                    <th class="sortTable sorting" data-sortKey="sender" tabindex="0" aria-controls="datatable_fixed_column" rowspan="1" colspan="1" aria-label="Position: activate to sort column ascending" style="width: 200px;">
                        @CRM.Application.Core.Resources.Email.Email.Sender
                    </th>
                    <th class="sortTable sorting" data-sortKey="recipient" tabindex="0" aria-controls="datatable_fixed_column" rowspan="1" colspan="1" aria-label="Position: activate to sort column ascending" style="width: 200px;">
                        @CRM.Application.Core.Resources.Email.Email.Recipients
                    </th>
                    @*<th class="sortTable sorting" data-sortKey="uid" tabindex="0" aria-controls="datatable_fixed_column" rowspan="1" colspan="1" aria-label="Office: activate to sort column ascending" style="width: 174px;">
                            Unique Id
                        </th>
                        <th class="sortTable sorting" data-sortKey="concerningCustomer" tabindex="0" aria-controls="datatable_fixed_column" rowspan="1" colspan="1" aria-label="Start date: activate to sort column ascending" style="width: 178px;">
                            @CRM.Application.Core.Resources.Email.Email.ConcerningCustomer
                        </th>*@
                    <th class="sortTable sorting" data-sortKey="EmailAccountHostName" tabindex="0" aria-controls="datatable_fixed_column" rowspan="1" colspan="1" aria-label="Start date: activate to sort column ascending" style="width: 178px;">
                        @CRM.Application.Core.Resources.Email.Email.HostName
                    </th>
                    <th tabindex="0" aria-controls="datatable_fixed_column" rowspan="1" colspan="1" aria-label="Start date: activate to sort column ascending" style="width: 178px;">
                        Actions
                    </th>
                </tr>
            </thead>
            <tbody id="customersListDiv">
                @{Html.RenderPartial("_EmailMessageList", Model);}
            </tbody>
        </table>
        <div id="customersPaginationDiv">
            @{Html.RenderPartial("_EmailMessagePagination", Model);}
        </div>
    </div>
    <div class="row smart-form">
        <section class="col col-3">
            <label class="toggle">
                @Html.HiddenFor(x => x.QueryOperatorComparer, new { @name = "tableComparer", @id = "hiddenTableComparer" })
                <input type="checkbox" id="switchTableComparer" name="checkbox-toggle" checked="checked">
                <i data-swchon-text="And" data-swchoff-text="Or"></i> Search Comparer
            </label>
        </section>
    </div>
</div>

<!-- END MAIN CONTENT -->
<script src="~/Scripts/plugin/qtip/qtip.min.js"></script>
<link href="~/Scripts/plugin/qtip/qtip.min.css" rel="stylesheet" />
<script src="~/Scripts/CRM/Enum/SortDirection.js"></script>