@model CRM.Application.Core.ViewModels.OrderViewModel
@{
    Layout = null;
}
<div id="datatable_fixed_column_wrapper" class="dataTables_wrapper form-inline no-footer">
    <div class="dt-toolbar">
        <div class="col-xs-12 col-sm-6 hidden-xs">
            <div id="datatable_fixed_column_filter" class="dataTables_filter">
                <label>
                    <span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span>
                    <input disabled id="commonFilter" type="search" class="form-control" placeholder="" aria-controls="datatable_fixed_column">
                </label>
            </div>
        </div><div class="col-sm-6 col-xs-12 hidden-xs">

            <div class="toolbar">

                <div class="text-right">
                    @*render webshoplink only if feature is enabled *@
                    <a class="btn btn-primary" href="@Url.Action("CreateViaWebShop", "Orders", new { @customerId = Model.CustomerId} )">@CRM.Application.Core.Resources.Orders.Order.NewOrder via WebShop</a>
                        &nbsp;
                    <a class="btn btn-primary" href="@Url.Action("Create", "Orders")">@CRM.Application.Core.Resources.Orders.Order.NewOrder</a>
                </div>
            </div>
        </div>
    </div>
    <table id="datatable_fixed_column" class="table table-striped table-bordered dataTable no-footer" width="100%" role="grid" aria-describedby="datatable_fixed_column_info" style="width: 100%">
        <thead>
            <tr id="filterTr" role="row">
                <th class="hasinput" style="width:6%" rowspan="1" colspan="1">
                    <div class="input-group">
                        <input id="orderId" data-searchKey="OrderId" data-selectedOperator="Contains" class="form-control query" placeholder="@String.Join(" ", CRM.Application.Core.Resources.General.General.Filter, CRM.Application.Core.Resources.Orders.Order.OrderId )" type="text">
                        <div style="padding:5px" class="input-group-addon">
                            <div class="btn-group">
                                <button class="btn btn-primary btn-xs dropdown-toggle" data-toggle="dropdown">
                                    <span class="fa fa-filter"></span>
                                </button>
                                <ul class="dropdown-menu">
                                    <li class="active">
                                        <a class="operatorDropdown" data-operator="Equals" data-forInput="Order" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterEquals</a>
                                    </li>
                                    <li>
                                        <a class="operatorDropdown" data-operator="GreaterThan" data-forInput="Order" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterGreaterThan</a>
                                    </li>
                                    <li>
                                        <a class="operatorDropdown" data-operator="GreaterThanOrEqual" data-forInput="Order" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterGreaterThanOrEqual</a>
                                    </li>
                                    <li>
                                        <a class="operatorDropdown" data-operator="LessThan" data-forInput="Order" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterLessThan</a>
                                    </li>
                                    <li>
                                        <a class="operatorDropdown" data-operator="LessThanOrEqual" data-forInput="Order" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterLessThanOrEqual</a>
                                    </li>
                                </ul>
                            </div>

                        </div>
                    </div>
                </th>
                <th class="hasinput" style="width:15%" rowspan="1" colspan="1">
                    <div class="input-group">
                        <input disabled id="creationDate" data-searchKey="CreationDate" data-selectedOperator="Equals" class="form-control query defaultSort" placeholder="@String.Join(" ", CRM.Application.Core.Resources.General.General.Filter, CRM.Application.Core.Resources.Orders.Order.CreationDate )" type="text">
                        <div style="padding:5px" class="input-group-addon">
                            <div class="btn-group">
                                <button class="btn btn-primary btn-xs dropdown-toggle" data-toggle="dropdown">
                                    <span class="fa fa-filter"></span>
                                </button>
                                <ul class="dropdown-menu">
                                    <li class="active">
                                        <a class="operatorDropdown" data-operator="Equals" data-forInput="CreationDate" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterEquals</a>
                                    </li>
                                    <li>
                                        <a class="operatorDropdown" data-operator="GreaterThan" data-forInput="CreationDate" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterAfter</a>
                                    </li>
                                    <li>
                                        <a class="operatorDropdown" data-operator="GreaterThanOrEqual" data-forInput="CreationDate" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterOnOrAfter</a>
                                    </li>
                                    <li>
                                        <a class="operatorDropdown" data-operator="LessThan" data-forInput="CreationDate" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterBefore</a>
                                    </li>
                                    <li>
                                        <a class="operatorDropdown" data-operator="LessThanOrEqual" data-forInput="CreationDate" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterOnOrBefore</a>
                                    </li>
                                    <li>
                                        <a class="operatorDropdown" data-operator="NotEqual" data-forInput="CreationDate" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterNotEqual</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </th>
                <th class="hasinput" style="width:15%" rowspan="1" colspan="1">
                    <div class="input-group">
                        <input id="status" data-searchKey="Status" data-selectedOperator="StartsWith" class="form-control query defaultSort" placeholder="@String.Join(" ", CRM.Application.Core.Resources.General.General.Filter, CRM.Application.Core.Resources.Orders.Order.Status )" type="text">
                        <div style="padding:5px" class="input-group-addon">
                            <div class="btn-group">
                                <button class="btn btn-primary btn-xs dropdown-toggle" data-toggle="dropdown">
                                    <span class="fa fa-filter"></span>
                                </button>
                                <ul class="dropdown-menu">
                                    <li class="active">
                                        <a class="operatorDropdown" data-operator="StartsWith" data-forInput="Order" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterStartsWith</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </th>
                <th class="hasinput" style="width:17%" rowspan="1" colspan="1">
                    <div class="input-group">
                        <input id="customer" data-searchKey="CustomerCompany" data-selectedOperator="Contains" class="form-control query" placeholder="@String.Join(" ", CRM.Application.Core.Resources.General.General.Filter, CRM.Application.Core.Resources.General.General.Customer )" type="text">
                        <div style="padding:5px" class="input-group-addon">
                            <div class="btn-group">
                                <button class="btn btn-primary btn-xs dropdown-toggle" data-toggle="dropdown">
                                    <span class="fa fa-filter"></span>
                                </button>
                                <ul class="dropdown-menu">
                                    <li class="active">
                                        <a class="operatorDropdown" data-operator="Contains" data-forInput="customer" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterContains</a>
                                    </li>
                                    <li>
                                        <a class="operatorDropdown" data-operator="StartsWith" data-forInput="customer" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterStartsWith</a>
                                    </li>
                                    <li>
                                        <a class="operatorDropdown" data-operator="EndsWith" data-forInput="customer" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterEndsWith</a>
                                    </li>
                                    <li>
                                        <a class="operatorDropdown" data-operator="Equals" data-forInput="customer" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterEquals</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </th>
                <th class="hasinput" style="width:15%" rowspan="1" colspan="1">
                    <div class="input-group">
                        <input id="dispatchDate " data-searchKey="DispatchDate" data-selectedOperator="Equals" class="form-control query defaultSort" placeholder="@String.Join(" ", CRM.Application.Core.Resources.General.General.Filter, CRM.Application.Core.Resources.Orders.Order.DispatchDate )" type="text">
                        <div style="padding:5px" class="input-group-addon">
                            <div class="btn-group">
                                <button class="btn btn-primary btn-xs dropdown-toggle" data-toggle="dropdown">
                                    <span class="fa fa-filter"></span>
                                </button>
                                <ul class="dropdown-menu">
                                    <li class="active">
                                        <a class="operatorDropdown" data-operator="Equals" data-forInput="dispatchDate" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterEquals</a>
                                    </li>
                                    <li>
                                        <a class="operatorDropdown" data-operator="GreaterThan" data-forInput="dispatchDate" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterAfter</a>
                                    </li>
                                    <li>
                                        <a class="operatorDropdown" data-operator="GreaterThanOrEqual" data-forInput="dispatchDate" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterOnOrAfter</a>
                                    </li>
                                    <li>
                                        <a class="operatorDropdown" data-operator="LessThan" data-forInput="dispatchDate" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterBefore</a>
                                    </li>
                                    <li>
                                        <a class="operatorDropdown" data-operator="LessThanOrEqual" data-forInput="dispatchDate" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterOnOrBefore</a>
                                    </li>
                                    <li>
                                        <a class="operatorDropdown" data-operator="NotEqual" data-forInput="dispatchDate" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterNotEqual</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </th>
                <th class="hasinput" style="width:17%" rowspan="1" colspan="1">
                    <div class="input-group">
                        <input id="billingaddress" data-searchKey="BillingAddress" data-selectedOperator="Contains" class="form-control query" placeholder="@String.Join(" ", CRM.Application.Core.Resources.General.General.Filter, @CRM.Application.Core.Resources.Orders.Order.BillingAddress)" type="text">
                        <div style="padding:5px" class="input-group-addon">
                            <div class="btn-group">
                                <button class="btn btn-primary btn-xs dropdown-toggle" data-toggle="dropdown">
                                    <span class="fa fa-filter"></span>
                                </button>
                                <ul class="dropdown-menu">
                                    <li class="active">
                                        <a class="operatorDropdown" data-operator="Contains" data-forInput="billingaddress" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterContains</a>
                                    </li>
                                    <li>
                                        <a class="operatorDropdown" data-operator="StartsWith" data-forInput="billingaddress" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterStartsWith</a>
                                    </li>
                                    <li>
                                        <a class="operatorDropdown" data-operator="EndsWith" data-forInput="billingaddress" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterEndsWith</a>
                                    </li>
                                    <li>
                                        <a class="operatorDropdown" data-operator="Equals" data-forInput="billingaddress" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterEquals</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </th>
                <th class="hasinput" style="width:17%" rowspan="1" colspan="1">
                    <div class="input-group">
                        <input id="deliveryaddress" data-searchKey="DeliveryAddress" data-selectedOperator="Contains" class="form-control query" placeholder="Filter @CRM.Application.Core.Resources.Orders.Order.DeliveryAddress" type="text">
                        <div style="padding:5px" class="input-group-addon">
                            <div class="btn-group">
                                <button class="btn btn-primary btn-xs dropdown-toggle" data-toggle="dropdown">
                                    <span class="fa fa-filter"></span>
                                </button>
                                <ul class="dropdown-menu">
                                    <li class="active">
                                        <a class="operatorDropdown" data-operator="Contains" data-forInput="deliveryaddress" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterContains</a>
                                    </li>
                                    <li>
                                        <a class="operatorDropdown" data-operator="StartsWith" data-forInput="deliveryaddress" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterStartsWith</a>
                                    </li>
                                    <li>
                                        <a class="operatorDropdown" data-operator="EndsWith" data-forInput="deliveryaddress" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterEndsWith</a>
                                    </li>
                                    <li>
                                        <a class="operatorDropdown" data-operator="Equals" data-forInput="deliveryaddress" href="javascript:void(0);">@CRM.Application.Core.Resources.DynamicTable.Filtering.FilterEquals</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </th>
                <th class="hasinput" style="width:17%" rowspan="1" colspan="1">
                </th>
            </tr>
            <tr role="row">
                <th class="sortTable sorting" data-sortKey="Id" tabindex="0" aria-controls="datatable_fixed_column" rowspan="1" colspan="1" aria-label="Position: activate to sort column ascending" style="width: 200px;">
                    Id
                </th>
                <th class="sortTable sorting_desc" data-activesort="CreationDate" tabindex="1" data-sort="" aria-controls="datatable_fixed_column" rowspan="1" colspan="1" aria-label="Position: activate to sort column ascending" style="width: 200px;">
                    @CRM.Application.Core.Resources.Orders.Order.CreationDate
                </th>
                <th class="sortTable sorting" data-sortKey="Status" tabindex="2" aria-controls="datatable_fixed_column" rowspan="1" colspan="1" aria-label="Position: activate to sort column ascending" style="width: 200px;">
                    @CRM.Application.Core.Resources.Orders.Order.Status
                </th>
                <th class="sortTable sorting" data-sortKey="CustomerCompany" tabindex="3" aria-controls="datatable_fixed_column" rowspan="1" colspan="1" aria-label="Office: activate to sort column ascending" style="width: 174px;">
                    @CRM.Application.Core.Resources.General.General.Customer
                </th>
                <th class="sortTable sorting" data-sortKey="" tabindex="4" aria-controls="datatable_fixed_column" rowspan="1" colspan="1" aria-label="Age: activate to sort column ascending" style="width: 187px;">
                    @CRM.Application.Core.Resources.Orders.Order.DispatchDate
                </th>
                <th class="sortTable sorting" data-sortKey="" tabindex="5" aria-controls="datatable_fixed_column" rowspan="1" colspan="1" aria-label="Start date: activate to sort column ascending" style="width: 178px;">
                    @CRM.Application.Core.Resources.Orders.Order.BillingAddress
                </th>
                <th class="sortTable sorting" data-sortKey="" tabindex="6" aria-controls="datatable_fixed_column" rowspan="1" colspan="1" aria-label="Start date: activate to sort column ascending" style="width: 178px;">
                    @CRM.Application.Core.Resources.Orders.Order.DeliveryAddress
                </th>
                <th tabindex="0" aria-controls="datatable_fixed_column" rowspan="7" colspan="1" aria-label="" style="width: 178px;">
                    @CRM.Application.Core.Resources.General.General.Actions
                </th>
            </tr>
        </thead>
        <tbody id="ordersListDiv">
            @Html.Partial("_OrderList", Model)
        </tbody>
    </table>
    <div id="ordersPaginationDiv">
        @Html.Partial("_OrderPagination", Model)
    </div>
</div>
<div class="row smart-form">
    <section class="col col-3">
        <label class="toggle">
            @Html.HiddenFor(x => x.QueryOperatorComparer, new { @name = "tableComparer", @id = "hiddenTableComparer" })
            <input type="checkbox" id="switchTableComparer" name="checkbox-toggle" checked="checked">
            <i data-swchon-text="@CRM.Application.Core.Resources.DynamicTable.Filtering.And" data-swchoff-text="@CRM.Application.Core.Resources.DynamicTable.Filtering.Or"></i> @CRM.Application.Core.Resources.DynamicTable.Filtering.SearchComparer
        </label>
    </section>
</div>

<link href="~/Scripts/plugin/bootstrap-datepicker/css/bootstrap-datepicker.min.css" rel="stylesheet" />
<script src="~/Scripts/plugin/bootstrap-datepicker/js/bootstrap-datepicker.min.js"></script>
<script src="~/Scripts/CRM/Orders/CustomerOrderHistory.js"></script>
<script src="~/Scripts/CRM/Enum/SortDirection.js"></script>