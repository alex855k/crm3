@model  CRM.Application.Core.ViewModels.UserRolesViewModel
<!-- MAIN CONTENT -->
<div id="content">

    <div class="row">
        <div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
            <h1 class="page-title txt-color-blueDark">
                <i class="fa fa-pencil-square-o fa-fw "></i>
                Forms
                <span>
                    >
                    Form Plugins
                </span>
            </h1>
        </div>
    </div>

    <!-- widget grid -->
    <section id="widget-grid" class="">

        <!-- row -->
        <div class="row">

            <!-- NEW COL START -->
            <article class="col-sm-12">

                <!-- Widget ID (each widget will need unique ID)-->
                <div class="jarviswidget jarviswidget-color-darken" id="wid-id-2" data-widget-colorbutton="false" data-widget-editbutton="false" data-widget-custombutton="false">
                    <!-- widget options:
                    usage: <div class="jarviswidget" id="wid-id-0" data-widget-editbutton="false">

                    data-widget-colorbutton="false"
                    data-widget-editbutton="false"
                    data-widget-togglebutton="false"
                    data-widget-deletebutton="false"
                    data-widget-fullscreenbutton="false"
                    data-widget-custombutton="false"
                    data-widget-collapsed="true"
                    data-widget-sortable="false"

                    -->
                    @Html.HiddenFor(x => x.User.Id, new { @id = "hiddenUserId" })
                    <header>
                        <span class="widget-icon"> <i class="fa fa-edit"></i> </span>
                        <h2>Roles For User : @Model.User.FullName | UserName:  @Model.User.UserName </h2>

                    </header>

                    <!-- widget div-->
                    <div>

                        <!-- widget edit box -->
                        <div class="jarviswidget-editbox">
                            <!-- This area used as dropdown edit box -->

                        </div>
                        <!-- end widget edit box -->
                        <!-- widget content -->
                        <div class="widget-body">

                            <select multiple="multiple" size="10" name="duallistbox_demo" id="rolesDuallistbox">
                                @foreach (var role in Model.UnAssignedRoles)
                                {
                                    <option value="@role.Name">@role.Name</option>
                                }
                                @foreach (var role in Model.AssignedRoles)
                                {
                                    <option value="@role.Name" selected="selected">@role.Name</option>
                                }
                            </select>

                        </div>
                        <!-- end widget content -->
                        <div class="form-actions">
                            <div class="row">
                                <div class="col-md-12">
                                    <button id="btnSave" class="btn btn-primary" type="submit">
                                        <i class="fa fa-save"></i>
                                        @CRM.Application.Core.Resources.General.General.Save
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- end widget div -->

                </div>
                <!-- end widget -->

            </article>
            <!-- END COL -->

        </div>

        <!-- end row -->


    </section>
    <!-- end widget grid -->


</div>
<!-- END MAIN CONTENT -->

@section pagespecific {
    <!-- PAGE RELATED PLUGIN(S) -->
    <script src="/scripts/plugin/bootstrap-duallistbox/jquery.bootstrap-duallistbox.min.js"></script>

    <script type="text/javascript">

        // DO NOT REMOVE : GLOBAL FUNCTIONS!

        $(document).ready(function () {

            /*
         * BOOTSTRAP DUALLIST BOX
         */

            var initializeDuallistbox = $('#rolesDuallistbox').bootstrapDualListbox({
                nonSelectedListLabel: 'UnAssigned Roles',
                selectedListLabel: 'Assigned Roles',
                preserveSelectionOnMove: 'moved',
                moveOnSelect: false,

            });

        })

    </script>
    <script src="~/Scripts/CRM/Authentication/UserRole.js"></script>
}